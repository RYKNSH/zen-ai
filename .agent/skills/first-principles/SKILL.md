---
name: First Principles Thinking
description: 問題を第一原理から分解し、本質的な解決策を導出するスキル
---

# First Principles Thinking Skill

## 概要

このスキルは、表面的な問題解決ではなく、根本原因に到達するための思考フレームワークを提供します。
イーロン・マスクの「First Principles Thinking」に基づき、既存の慣習や前提を疑い、問題を最も基本的な要素まで分解して再構築します。

## 発動条件

このスキルは以下の状況で発動してください：

- ユーザーが「なぜ〜が起きているのか分からない」と言った時
- バグ修正が別のバグを生んでいる状況
- 技術的負債が蓄積している兆候がある時
- 同じ問題が繰り返し発生している時
- 「回避策」「ワークアラウンド」という言葉が出てきた時

## 実行ステップ

### Step 1: 問題の表層を記録

まず、ユーザーが報告した問題の「症状」を正確に把握します。

```markdown
## 問題の症状
- 観察された現象:
- 発生頻度:
- 影響範囲:
- ユーザーの期待との差異:
```

### Step 2: 5-Why分析

「なぜ」を5回繰り返して根本原因に到達します。

```markdown
## 5-Why分析

### Why 1: なぜ[症状]が起きているか？
→ [原因1]

### Why 2: なぜ[原因1]なのか？
→ [原因2]

### Why 3: なぜ[原因2]なのか？
→ [原因3]

### Why 4: なぜ[原因3]なのか？
→ [原因4]

### Why 5: なぜ[原因4]なのか？
→ [根本原因]
```

### Step 3: 理想系の定義

制約を無視して、問題が完全に解決された状態を定義します。

```markdown
## 理想系

### もし制約がなければ...
- 技術的制約なし:
- 時間的制約なし:
- リソース制約なし:

### 理想の状態
[具体的な理想の状態を記述]
```

### Step 4: 解決パスの設計

理想系から逆算して、現実的な実装パスを設計します。

```markdown
## 解決パス

### 現実の制約
- 時間:
- リソース:
- 技術:

### 段階的アプローチ
1. **Phase 1** (即時): [アクション]
2. **Phase 2** (〜1週間): [アクション]
3. **Phase 3** (〜1ヶ月): [アクション]
```

### Step 5: バンドエイド回避チェック

提案する解決策がバンドエイドではないことを確認します。

```markdown
## バンドエイドチェック

- [ ] この解決策は根本原因を解決しているか？
- [ ] 同じ問題が他の場所で発生しないか？
- [ ] この解決策なしで問題を解決する方法はないか？
- [ ] 6ヶ月後にこの解決策が技術的負債になっていないか？
```

## テンプレート

- [5-Why分析テンプレート](templates/why-chain.md)
- [理想系定義テンプレート](templates/ideal-state.md)
- [ボトルネック分析テンプレート](templates/bottleneck.md)

## 出力形式

このスキルを発動した場合、以下の形式で結果を報告してください：

```markdown
## 🎯 First Principles 分析結果

### 問題の症状
[観察された症状]

### 根本原因（5-Why到達点）
[特定された根本原因]

### 理想系
[制約なしの理想状態]

### 推奨する解決策
[根本原因を解決する提案]

### バンドエイドリスク
[この解決策がバンドエイドになるリスクの評価]
```

## 例

### ケース: APIレスポンスが遅い

```markdown
## 🎯 First Principles 分析結果

### 問題の症状
- APIレスポンスが3秒以上かかる
- ユーザーからタイムアウト報告

### 5-Why分析
1. なぜAPIが遅いか？ → DBクエリが遅い
2. なぜDBクエリが遅いか？ → フルテーブルスキャン
3. なぜフルテーブルスキャンか？ → インデックスがない
4. なぜインデックスがないか？ → 初期設計で考慮されなかった
5. なぜ考慮されなかったか？ → データ量の見積もりが甘かった

### 根本原因
データ量の成長を考慮しない設計

### 理想系
- クエリは常に10ms以内
- データ量に関わらず一定のパフォーマンス
- 自動的にスケール

### 推奨する解決策
1. 即時: 問題のクエリにインデックス追加
2. 短期: 全クエリの実行計画レビュー
3. 中期: パフォーマンステストの自動化
4. 長期: 設計レビューにパフォーマンス観点を追加

### バンドエイドリスク: 低
インデックス追加は根本的な解決策であり、バンドエイドではない。
ただし、2〜4の追加施策がなければ、他のクエリで同じ問題が発生するリスクがある。
```
